<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://use.fontawesome.com/0208a2bb23.js"></script>
</head>
<body>
    <div id="yonce">The time is :

    </div>

    <div id="new">

    </div>

    <div id ="div">

    </div>

    <button id="start">
        <i class="fa fa-play" aria-hidden="true"></i>
    </button>


    <button id="stop">
        <i class="fa fa-pause" aria-hidden="true"></i>
    </button>

    <button id="refresh">
        <i class="fa fa-refresh" aria-hidden="true"></i>

    </button>



    <script>
    //-------------------Version 1-------- //
        
        
        //let increment = setInterval(myFunc, 1000)

        //function myFunc() {
            //let date = new Date();
           // document.querySelector("#new").innerHTML = date
       // }
        //----------------Version 2----------------
        let laps = {}
        let start = document.querySelector("#start")
        let stopper = document.querySelector("#stop")
        let refresh = document.querySelector("#refresh")
        let display = document.querySelector("#new")
        let pause = 0;
        let run = 0;

        let newDiv = document.querySelector("#div")


        var notStarted;
        var interval;

        var sTime;


        var stTime;
        var uTime;



        start.onclick = function startWatch() {
            if (!run) {
            
                stTime = new Date().getTime();
                interval = setInterval(showTime, 1)
                pause = 0;
                run = 1;

                display.innerText = (interval)
                laps.push(interval)
            }
        }


        stopper.onclick = function stopWatch() {
            
           
            

            if (!notStarted) {

            }

            else if (!pause) {
                clearInterval(interval);
                sTime = notStarted;
                pause = 1;
                run = 0;

            }

            else {
                startWatch();
            }

            
        }

        refresh.onclick = function restart() {
            clearInterval(interval);
            sTime = 0;
            notStarted = 0;
            pause = 0;
            run = 0;
            display.innerText = "Start Timer!"

        }

        function showTime() {
            uTime = new Date().getTime();
            if (sTime) {
                notStarted = (uTime-stTime) + sTime;
            }

            else {
                notStarted = uTime-stTime;
            }
            
            
            let hours = Math.floor((notStarted % (1000*60*60*24))/(1000*60*60));
            let sec = Math.floor((notStarted % (1000 *60))/1000);
            let mins = Math.floor((notStarted % (1000 * 60 *60))/(1000 * 60));
            let milli = Math.floor((notStarted %(1000 * 60))/100);


            hours = (hours<10) ? "0" + hours : hours;
            sec = (mins<10) ? "0" + sec: sec;
            milli= (milli < 100) ? (milli < 10) ? "00" + milli : "0" + milli : milli;
            display.innerText = hours + ":" + mins + ":" + sec + ":" + milli;
            

            newDiv.innerText = laps.value;

        }
        

        
    </script>
</body>
</html>